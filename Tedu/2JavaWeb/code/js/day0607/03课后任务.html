<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>课后任务</title>
    <script>
        let correctUsername = false;
        let correctPassword = false;
        let correctPassword2 = false;
        let correctMail = false;
        let correctPhone = false;
        function checkUsername(){
            let username = document.getElementById("username").value;
            let usernameError = document.getElementById("usernameError");
            let re = /^\w{6,18}$/g;
            if (re.test(username)){
                usernameError.innerHTML = "用户名符合要求";
                usernameError.style.color = "green";
                correctUsername = true;
            }else {
                usernameError.innerHTML = "用户名不符合要求";
                usernameError.style.color = "red";
                correctUsername = false;
            }
        }

        function clearUsername(){
            let usernameError = document.getElementById("usernameError");
            usernameError.innerHTML = "";
        }

        function checkPassword(){
            let password = document.getElementById("password").value;
            let passwordError = document.getElementById("passwordError");
            let re = /^\d{6}$/g;
            if (re.test(password)){
                passwordError.innerHTML = "密码符合要求";
                passwordError.style.color = "green";
                correctPassword = true;
            }else {
                passwordError.innerHTML = "密码不符合要求";
                passwordError.style.color = "red";
                correctPassword = false;
            }
        }
        function clearPassword(){
            let passwordError = document.getElementById("passwordError");
            passwordError.innerHTML = "";
        }
        function checkPassword2(){
            let password = document.getElementById("password").value;
            let password2 = document.getElementById("password2").value;
            let password2Error = document.getElementById("password2Error");
            if (password == password2 && password2 != ""){
                password2Error.innerHTML = "两次密码一致";
                password2Error.style.color = "green";
                correctPassword2 = true;
            }else {
                password2Error.innerHTML = "两次密码不一致";
                password2Error.style.color = "red";
                correctPassword2 = false;
            }
        }
        function clearPassword2(){
            let password2Error = document.getElementById("password2Error");
            password2Error.innerHTML = "";
        }
        function checkMail(){
            let mail = document.getElementById("mail").value;
            let mailError = document.getElementById("mailError");
            let re = /^([a-zA-Z0-9])+(([a-zA-Z0-9])|([._-][a-zA-Z0-9])*)+@([a-zA-Z0-9-])+((\.[a-zA-Z0-9-]{2,3}){1,2})$/;
            if (re.test(mail)){
                mailError.innerHTML = "邮箱符合要求";
                mailError.style.color = "green";
                correctMail = true;
            }else {
                mailError.innerHTML = "邮箱不符合要求";
                mailError.style.color = "red";
                correctMail = false;
            }
        }
        function clearMail(){
            let mailError = document.getElementById("mailError");
            mailError.innerHTML = "";
        }
        function checkPhone(){
            let phone = document.getElementById("phone").value;
            let phoneError = document.getElementById("phoneError");
            let re = /^[1][3,4,5,7,8][0-9]{9}$/;
            if (re.test(phone)){
                phoneError.innerHTML = "手机号符合要求";
                phoneError.style.color = "green";
                correctPhone = true;
            }else {
                phoneError.innerHTML = "手机号不符合要求";
                phoneError.style.color = "red";
                correctPhone = false;
            }
        }
        function clearPhone(){
            let phoneError = document.getElementById("phoneError");
            phoneError.innerHTML = "";
        }

        function checkSubmit(){
            return correctUsername && correctPassword && correctPassword2 && correctMail && correctPhone;
        }


    </script>
</head>
<body>
    <form action="server.html" method="get" onsubmit="checkSubmit()">
        <!--制作一个表单：要求有用户名，密码，重复密码，邮箱，手机号-->
        用户名：<input type="text" id="username" onblur="checkUsername()" onclick="clearUsername()"> <span id="usernameError"></span><br/>
        密码：<input type="password" id="password" onblur="checkPassword()" onclick="clearPassword()"> <span id="passwordError"></span><br/>
        重复密码：<input type="password" id="password2" onblur="checkPassword2()" onclick="clearPassword2()"> <span id="password2Error"></span><br/>
        邮箱：<input type="text" id="mail" onblur="checkMail()" onclick="clearMail()"> <span id="mailError"></span><br/>
        手机号：<input type="text" id="phone" onblur="checkPhone()" onclick="clearPhone()"> <span id="phoneError"></span><br/>
        <input type="button" value="提交">
    </form>
</body>
</html>