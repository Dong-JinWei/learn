# 用户登录

1. 数据库创建对应的用户表：tb_user
2. 前台页面
   1. 登录页面：login.jsp
   2. 首页：index.jsp
3. 后台实现
   1. 登录功能

## 1、 数据库创建对应的用户表

新建数据库，新建表，插入数据

## 2、 前台页面

### 登录界面 login.jsp

用户登录 JS校验

登录表单验证：
1. 给登录按钮绑定点击事件
2. 获取用户姓名和密码的值
3. 判断姓名是否为空
   1. 如果姓名为空，提示用户（span标签赋值），并且return
4. 判断密码是否为空
   1. 如果密码为空，提示用户（span标签赋值），并且return
5. 如果都不为空，则手动提交表单

## 后端实现

登录功能思路：
- 接受客户端的请求（接收参数：姓名、密码）
- 参数的非空判断
  - 如果参数为空，通过消息模型对象返回结果（设置状态、设置提示信息、回显数据）
    - 将消息模型对象设置到request作用域中
    - 请求转发跳转到登录界面
    - return
- 通过用户姓名查询用户对象
- 判断用户对象是否为空
  - 如果为空，通过消息模型对象返回结果（设置状态、提示信息、回显数据）
    - 将消息模型对象设置到request作用域中
    - 请求转发跳转到登录界面
    - return
- 将数据库中的查询到用户密码与前台密码作比较
  - 如果不相等，通过消息模型对象返回结果（设置状态、提示信息、回显数据）
    - 将消息模型对象设置到request作用域中
    - 请求转发跳转到登录界面
  - 如果相等，表示登录成功
    -将用户信息设置到session作用域中 
    - 重定向跳转到首页

controller 层（接收请求、响应结果）
   1. 接收客户端的请求（接受参数：姓名、密码）
   2. 调用service层的方法，返回消息摩西对象
   3. 判断消息模型状态码
      1. 如果状态码时失败
         1. 将消息模型对象设置到request作用域中，请求转发跳转到login.jsp
      2. 如果状态码时成功
         1. 将消息模型中的用户信息设置到session作用域中，重新跳转到index.jsp

service层（业务逻辑）
   1. 参数的非空判断
      - 如果参数为空，将状态码、提示信息、回显数据设置到消息对象中，返回消息模型对象
   2. 调用dao层的查询方法，通过用户名查询用户对象
   3. 判断用户对象是否为空
      - 将状态码、提示信息、回显数据设置到消息模型对象中，返回消息模型对象
   4. 判断数据时查询的到用户密码与前台传递过来的密码作比较
      - 如果不相等，将状态码、提示信息、回显数据设置到消息模型对象中，返回消息队列
   5. 将成功状态、提示信息、用户对象设置消息模型对象，并return

mapper层（Dao层）
   1. 定义对应接口

## 分层思想（解耦：高内聚低耦合）

controller层：
- 接受请求
- 调用 service 层，返回结果
- 响应结果

service 层：
- 业务逻辑判断

mapper
- 接口类
- mapper.xml mybatis与数据库的相关操作

entity （po、model）
- JavaBean 实体

util
- 工具类（调用的方法/类）

test
- 测试类/方法